<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../bootstrap-5.0.2-dist/css/bootstrap.min.css">
    <script src="../js/jquery.min.js"></script>
    <script src="../bootstrap-5.0.2-dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="thanhtoan.css">
    
</head>
<body>
    <div class="container">
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModal">
            Thanh Toán
        </button>
        <div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                  <div class="td">
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <a class="nav-item" id="login-tab" data-bs-toggle="tab" href="#login" role="tab" aria-controls="login" aria-selected="false" style="text-decoration: none; font-size:xx-large; color: gray;">QUÉT MÃ QR</a>
                        </li>
                        <li style="text-decoration: none; font-size:xx-large; color: gray;">&nbsp;/&nbsp;</li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-item active" id="register-tab" data-bs-toggle="tab" href="#register" role="tab" aria-controls="register" aria-selected="true" style="text-decoration: none; font-size:xx-large; color: gray;">THANH TOÁN BẰNG SỐ THẺ</a>
                        </li>
                        <li>
                            <button type="button" class="btn-close btn-close-right" data-bs-dismiss="modal" aria-label="Close"></button>
                        </li>
                    </ul>
                  </div>
                    <div class="tab-content" id="myTabContent">
                      <div class="tab-pane fade" id="login" role="tabpanel" aria-labelledby="login-tab">
                            <div class="modal-body">
                              <div class="anh">
                                <img src="QR.jpg" alt=""> <br>
                                <button type="button" class="btn btn-danger" id="btnthanhtoan">Hoàn tất!</button>
                              </div>
                            </div>
                        </div>
                      <div class="tab-pane fade show active" id="register" role="tabpanel" aria-labelledby="register-tab">
                        <div class="modal-body">
                          <div class="mb-3">
                            <label for="username" class="form-label">Tên Ngân Hàng</label>
                            <input type="text" name="txtNH" id="txtNH" class="form-control" placeholder="Tên Ngân Hàng">
                            <span id="errNH" class="err"></span>
                          </div>
                          <div class="mb-3">
                            <label for="username" class="form-label">Số Thẻ</label>
                            <input type="text" name="txtTK" id="txtTK" class="form-control" placeholder="Số Thẻ">
                            <span id="errTK" class="err"></span>
                          </div>
                          <div class="anh">
                            <button type="button" class="btn btn-danger" id="btntratien">Hoàn tất!</button>
                          </div>
                          
                        </div>
                      </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        $("#btnthanhtoan").click(function (e) {
        e.preventDefault();
        
            alert("Đợi nhóm chúng tôi check xem bạn thanh toán tiền chưa nhé, có thể bạn phải chờ 20 phút nhé!");
            window.location.href = "#";
        
        });

        let i = 1;

        function ktTenNganHang() {
            let tenNganHang = $("#txtNH").val().trim();
            let regex = /^[a-zA-Z\s]+$/; 

            if (tenNganHang.length === 0) {
                $("#errNH").html("Tên ngân hàng không được để trống");
                $("#txtNH").focus();
                return false;
            } else if (regex.test(tenNganHang)) {
                $("#errNH").html("Chuẩn");
                return true;
            } else {
                $("#errNH").html("Tên ngân hàng chỉ có nhập chữ.");
                $("#txtNH").focus();
                return false;
            }
        }

        $("#txtNH").blur(function (e) {
            ktTenNganHang();
        });
        function ktSTK() {
            let STK = $("#txtTK").val().trim();
            let regex = /^[0-9]+$/; 

            if (STK.length === 0) {
                $("#errTK").html("Tên ngân hàng không được để trống");
                $("#txtTK").focus();
                return false;
            } else if (regex.test(STK)) {
                $("#errTK").html("Chuẩn");
                return true;
            } else {
                $("#errTK").html("Tên ngân hàng chỉ có nhập chữ.");
                $("#txtTK").focus();
                return false;
            }
        }

        $("#txtTK").blur(function (e) {
            ktSTK();
        });
        $("#btntratien").click(function (e) {
        e.preventDefault();
        
        if (ktTenNganHang()&& ktSTK()) {

            alert("Thanh toán thành công!");
            //Link tới trang chủ nè nè
            window.location.href = "#";
        } else {
            alert("Thông tin không hợp lệ. Vui lòng kiểm tra lại!");
        }
        });
    </script>
</body>
</html>